<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.chenwj.cn","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="基本术语 实体：数据库用户所关注的对象。 列：存储在表中的独立的数字片段。 行：所有列的一个集合，完整的描述了一个实体或者实体上的某个行为，也称之为记录。 表：行的集合，既可以存在内存中，也可以持久化到硬盘上。 结果集：未持久化表的另一个名字，一般为SQL的查询结果。 主键：用于唯一标识表中的每个行的一个或者多个列。 外键：一个或者多个用于识别其他表中的某一个行的列。  使用mysql命令行工具">
<meta property="og:type" content="article">
<meta property="og:title" content="《SQL基础》SQL学习指南学习笔记一　数据库的基本概念和操作">
<meta property="og:url" content="http://www.chenwj.cn/2017-11-03/SQL%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80%20%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E5%92%8C%E6%93%8D%E4%BD%9C/index.html">
<meta property="og:site_name" content="茄子的博客">
<meta property="og:description" content="基本术语 实体：数据库用户所关注的对象。 列：存储在表中的独立的数字片段。 行：所有列的一个集合，完整的描述了一个实体或者实体上的某个行为，也称之为记录。 表：行的集合，既可以存在内存中，也可以持久化到硬盘上。 结果集：未持久化表的另一个名字，一般为SQL的查询结果。 主键：用于唯一标识表中的每个行的一个或者多个列。 外键：一个或者多个用于识别其他表中的某一个行的列。  使用mysql命令行工具">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2017-11-02T17:07:37.000Z">
<meta property="article:modified_time" content="2020-08-20T17:03:09.816Z">
<meta property="article:author" content="陈伟杰">
<meta property="article:tag" content="sql学习指南">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://www.chenwj.cn/2017-11-03/SQL%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80%20%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E5%92%8C%E6%93%8D%E4%BD%9C/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>《SQL基础》SQL学习指南学习笔记一　数据库的基本概念和操作 | 茄子的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="茄子的博客" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">茄子的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">技术博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>标签<span class="badge">68</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>分类<span class="badge">26</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>归档<span class="badge">74</span></a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="sitemap fa-fw"></i>站点地图</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="heartbeat fa-fw"></i>公益 404</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.chenwj.cn/2017-11-03/SQL%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80%20%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E5%92%8C%E6%93%8D%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.ico">
      <meta itemprop="name" content="陈伟杰">
      <meta itemprop="description" content="学习，坚持。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="茄子的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          《SQL基础》SQL学习指南学习笔记一　数据库的基本概念和操作
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-11-03 01:07:37" itemprop="dateCreated datePublished" datetime="2017-11-03T01:07:37+08:00">2017-11-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-21 01:03:09" itemprop="dateModified" datetime="2020-08-21T01:03:09+08:00">2020-08-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/sql/" itemprop="url" rel="index"><span itemprop="name">sql</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>15k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>13 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="基本术语"><a href="#基本术语" class="headerlink" title="基本术语"></a>基本术语</h2><ol>
<li>实体：数据库用户所关注的对象。</li>
<li>列：存储在表中的独立的数字片段。</li>
<li>行：所有列的一个集合，完整的描述了一个实体或者实体上的某个行为，也称之为记录。</li>
<li>表：行的集合，既可以存在内存中，也可以持久化到硬盘上。</li>
<li>结果集：未持久化表的另一个名字，一般为SQL的查询结果。</li>
<li>主键：用于唯一标识表中的每个行的一个或者多个列。</li>
<li>外键：一个或者多个用于识别其他表中的某一个行的列。</li>
</ol>
<h2 id="使用mysql命令行工具"><a href="#使用mysql命令行工具" class="headerlink" title="使用mysql命令行工具"></a>使用mysql命令行工具</h2><ul>
<li>使用命令行工具可以制定用户名和想要连接的数据库</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">zhuningning@ubuntu:~$ mysql -u lrngsql -p bank</span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 10</span><br><span class="line">Server version: 5.7.20 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2017, Oracle and&#x2F;or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and&#x2F;or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>出现如上的结果表示连接成功。</p>
<h2 id="表的创建"><a href="#表的创建" class="headerlink" title="表的创建"></a>表的创建</h2><ul>
<li>以下为创建表person的语句:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; create table person(</span><br><span class="line">    -&gt; person_id smallint unsigned,</span><br><span class="line">    -&gt; fname varchar(20),</span><br><span class="line">    -&gt; lname varchar(20),</span><br><span class="line">    -&gt; gender enum(&#39;M&#39;,&#39;F&#39;),</span><br><span class="line">    -&gt; birth_date date,</span><br><span class="line">    -&gt; street varchar(20),</span><br><span class="line">    -&gt; ciry varchar(20),</span><br><span class="line">    -&gt; state varchar(20),</span><br><span class="line">    -&gt; country varchar(20),</span><br><span class="line">    -&gt; postal_code varchar(20),</span><br><span class="line">    -&gt; constraint pk_person primary key(person_id)</span><br><span class="line">    -&gt; );</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p>注意以上的gender　enum 类型，可以约束赋值只能为Ｍ和Ｆ；</p>
</li>
<li><p>desc person该语句可以显示表结构；</p>
</li>
<li><p>其中<code>null</code>表示用于各种不能赋值的情况；</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; desc person;</span><br><span class="line">+-------------+----------------------+------+-----+---------+-------+</span><br><span class="line">| Field       | Type                 | Null | Key | Default | Extra |</span><br><span class="line">+-------------+----------------------+------+-----+---------+-------+</span><br><span class="line">| person_id   | smallint(5) unsigned | NO   | PRI | NULL    |       |</span><br><span class="line">| fname       | varchar(20)          | YES  |     | NULL    |       |</span><br><span class="line">| lname       | varchar(20)          | YES  |     | NULL    |       |</span><br><span class="line">| gender      | enum(&#39;M&#39;,&#39;F&#39;)        | YES  |     | NULL    |       |</span><br><span class="line">| birth_date  | date                 | YES  |     | NULL    |       |</span><br><span class="line">| street      | varchar(20)          | YES  |     | NULL    |       |</span><br><span class="line">| ciry        | varchar(20)          | YES  |     | NULL    |       |</span><br><span class="line">| state       | varchar(20)          | YES  |     | NULL    |       |</span><br><span class="line">| country     | varchar(20)          | YES  |     | NULL    |       |</span><br><span class="line">| postal_code | varchar(20)          | YES  |     | NULL    |       |</span><br><span class="line">+-------------+----------------------+------+-----+---------+-------+</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>以下语句可以展示创建表的语句</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; show create table person;</span><br><span class="line">+--------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| Table  | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |</span><br><span class="line">+--------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| person | CREATE TABLE &#96;person&#96; (</span><br><span class="line">  &#96;person_id&#96; smallint(5) unsigned NOT NULL AUTO_INCREMENT,</span><br><span class="line">  &#96;fname&#96; varchar(20) DEFAULT NULL,</span><br><span class="line">  &#96;lname&#96; varchar(20) DEFAULT NULL,</span><br><span class="line">  &#96;gender&#96; enum(&#39;M&#39;,&#39;F&#39;) DEFAULT NULL,</span><br><span class="line">  &#96;birth_date&#96; date DEFAULT NULL,</span><br><span class="line">  &#96;street&#96; varchar(20) DEFAULT NULL,</span><br><span class="line">  &#96;ciry&#96; varchar(20) DEFAULT NULL,</span><br><span class="line">  &#96;state&#96; varchar(20) DEFAULT NULL,</span><br><span class="line">  &#96;country&#96; varchar(20) DEFAULT NULL,</span><br><span class="line">  &#96;postal_code&#96; varchar(20) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (&#96;person_id&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB AUTO_INCREMENT&#x3D;3 DEFAULT CHARSET&#x3D;latin1 |</span><br><span class="line">+--------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<ul>
<li>接下来创建favorite_food表</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; create table favorite_food(</span><br><span class="line">    -&gt; person_id smallint unsigned,</span><br><span class="line">    -&gt; food varchar(20),</span><br><span class="line">    -&gt; constraint pk_favorite_food primary key(person_id,food),</span><br><span class="line">    -&gt; constraint pk_fav_food_person_id foreign key(person_id) references person(person_id)</span><br><span class="line">    -&gt; );</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>其中pk_fav_food_person_id为外键　references person表的person_id，pk_favorite_food为联合主键，他们都属于约束。</li>
</ul>
<h2 id="操作与修改表"><a href="#操作与修改表" class="headerlink" title="操作与修改表"></a>操作与修改表</h2><ul>
<li>修改主键为自动增长</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; alter table person modify person_id smallint unsigned auto_increment;</span><br><span class="line">Query OK, 0 rows affected (0.82 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc person;</span><br><span class="line">+-------------+----------------------+------+-----+---------+----------------+</span><br><span class="line">| Field       | Type                 | Null | Key | Default | Extra          |</span><br><span class="line">+-------------+----------------------+------+-----+---------+----------------+</span><br><span class="line">| person_id   | smallint(5) unsigned | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| fname       | varchar(20)          | YES  |     | NULL    |                |</span><br><span class="line">| lname       | varchar(20)          | YES  |     | NULL    |                |</span><br><span class="line">| gender      | enum(&#39;M&#39;,&#39;F&#39;)        | YES  |     | NULL    |                |</span><br><span class="line">| birth_date  | date                 | YES  |     | NULL    |                |</span><br><span class="line">| street      | varchar(20)          | YES  |     | NULL    |                |</span><br><span class="line">| ciry        | varchar(20)          | YES  |     | NULL    |                |</span><br><span class="line">| state       | varchar(20)          | YES  |     | NULL    |                |</span><br><span class="line">| country     | varchar(20)          | YES  |     | NULL    |                |</span><br><span class="line">| postal_code | varchar(20)          | YES  |     | NULL    |                |</span><br><span class="line">+-------------+----------------------+------+-----+---------+----------------+</span><br><span class="line"></span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<ul>
<li>插入数据操作</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; insert into person(person_id,fname,lname,gender,birth_date) values(null,&#39;william&#39;,&#39;turnar&#39;,&#39;M&#39;,&#39;1972-05-27&#39;);</span><br><span class="line">Query OK, 1 row affected (0.06 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>注意：插入的birth_date　字段的值为字符串类型，mysql数据库会将字符串自动解析为date类型。</p>
<ul>
<li>查询语句</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; select * from person;</span><br><span class="line">+-----------+---------+--------+--------+------------+--------+------+-------+---------+-------------+</span><br><span class="line">| person_id | fname   | lname  | gender | birth_date | street | ciry | state | country | postal_code |</span><br><span class="line">+-----------+---------+--------+--------+------------+--------+------+-------+---------+-------------+</span><br><span class="line">|         1 | william | turnar | M      | 1972-05-27 | NULL   | NULL | NULL  | NULL    | NULL        |</span><br><span class="line">+-----------+---------+--------+--------+------------+--------+------+-------+---------+-------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>注意，生产环境中，最好不要使用 *,这样会加重解析器的负担，使得查询的效率变低。</p>
<ul>
<li>更新语句</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; update person set street&#x3D;&#39;beijing&#39; where person_id&#x3D;1;</span><br><span class="line">Query OK, 1 row affected (0.04 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>删除语句</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; delete from person where person_id &#x3D;1;</span><br><span class="line">Query OK, 1 row affected (0.07 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>注意 不要忘记where子句，否者会删除表中所有的数据。</p>
<h2 id="导致错误的语句"><a href="#导致错误的语句" class="headerlink" title="导致错误的语句"></a>导致错误的语句</h2><ul>
<li>插入的主键不唯一;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; insert into person(person_id,fname,lname,gender,birth_date) values(1,&#39;william&#39;,&#39;turnar&#39;,&#39;M&#39;,&#39;1972-05-27&#39;);</span><br><span class="line">ERROR 1062 (23000): Duplicate entry &#39;1&#39; for key &#39;PRIMARY&#39;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>插入不存在的外键;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; insert into favorite_food values(22222,&#39;noodles&#39;);</span><br><span class="line">ERROR 1452 (23000): Cannot add or update a child row: a foreign key constraint</span><br><span class="line"> fails (&#96;bank&#96;.&#96;favorite_food&#96;, CONSTRAINT &#96;favorite_food_ibfk_1&#96; FOREIGN KEY (&#96;person_id&#96;) REFERENCES &#96;person&#96; (&#96;person_id&#96;))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>由于favorite_food表中的person_id是依赖于person表的，可以将favorite_food看做是person表的子表。</p>
<ul>
<li>列值不合法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; update person set gender &#x3D;&#39;X&#39; where person_id &#x3D;1;</span><br><span class="line">ERROR 1265 (01000): Data truncated for column &#39;gender&#39; at row 1</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>gender是枚举类，只接受f 和ｍ</p>
<ul>
<li>无效的日期类型</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; update person set birth_date &#x3D;&#39;DEC-21-1990&#39; where person_id &#x3D;2;</span><br><span class="line">ERROR 1292 (22007): Incorrect date value: &#39;DEC-21-1990&#39; for column &#39;birth_date&#39; at row 1</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>可以使用日期转化函数 str_to_date</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">update person set birth_date&#x3D;str_to_date(&#39;DEC-21-1990&#39;,&#39;%b-%d-%Y’) where person_id &#x3D;2;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="mysql的数据类型"><a href="#mysql的数据类型" class="headerlink" title="mysql的数据类型"></a>mysql的数据类型</h2><h3 id="字符型数据"><a href="#字符型数据" class="headerlink" title="字符型数据"></a>字符型数据</h3><p><em>字符类型数据可以分为２种：</em></p>
<ul>
<li>定长的char类型，它需要使用空格向右填充； max  255byte</li>
<li>变长的字符串 varchar类型，不需要向右填充，并且所有的字节数可变。max 65535bye　即 ６４ｋ</li>
<li>当定义一个字符列时，必须制定该列所能存放的字符串的最大长度。</li>
</ul>
<p><em>字符集：</em></p>
<ul>
<li>mysql可以使用各种字符集来存储数据，使用<code>show character set;</code> 可以查看字符集列表，默认的安装数据库时，lantin1字符集会被<br>默认的选为字符集。</li>
<li>可以使用以下语句，在创建数据库的时候制定字符集；</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; create database foreign_sales character set utf8;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><em>文本数据</em></p>
<ul>
<li>当需要存储的数据大于64KB(VARCHAR的上限)　就要使用文本类型：</li>
</ul>
<ul>
<li>tinytext(255 byte) </li>
<li>text(65535 byte) </li>
<li>mediumtext(16777215 byte) </li>
<li>longtext(4294967295 byte) </li>
</ul>
<p><code>需要注意</code>：</p>
<ul>
<li>如果装载的长度超过该类型的最大长度，数据将会被阶段；</li>
<li>文本不会消除数据的尾部空格；</li>
</ul>
<h3 id="数值型数据"><a href="#数值型数据" class="headerlink" title="数值型数据"></a>数值型数据</h3><p><em>整数类型 :</em> 　</p>
<ul>
<li>tinyint : 0-255;</li>
<li>smallint : 0-65535(六万);</li>
<li>mediumint : 0-26777215 (一千六百万);</li>
<li>int : 0-42亿;</li>
<li>bigint : 0　~ ;</li>
</ul>
<p><em>浮点类型：</em></p>
<ul>
<li>float(p,s)</li>
<li>double(p,s)</li>
</ul>
<h3 id="时间数据"><a href="#时间数据" class="headerlink" title="时间数据"></a>时间数据</h3><p>时间类型分为:<br>date    year     time     datetime     timestamp<br>其中后２个是相同的格式，只不过timestamp的范围为　1970-01-01 00:00:00至2037-12-31 23:59:59 且mysql中可以生成timestamp<br>类型的时间数据。</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://www.runoob.com/sql/sql-datatypes.html">具体的数据类型参考手册</a></li>
<li><a target="_blank" rel="noopener" href="http://www.cnblogs.com/jerrylz/p/5814460.html">java数据类型和mysql数据类型对应表</a>    </li>
</ul>
<h3 id="字符串相关的函数"><a href="#字符串相关的函数" class="headerlink" title="字符串相关的函数"></a>字符串相关的函数</h3><ul>
<li><p>当插入的字符串的长度超过指定的字段的长度时，服务器会抛出异常。这是mysql服务器的默认操作，可以修改其配置，改成截取字符串后插入，不抛出任何异常。</p>
</li>
<li><p>由于mysql中的字符串使用单引号分割，所以字符串中包含单引号时可以使用 ‘\’或者单引号作为转义，即两个单引号。</p>
</li>
<li><p>length()函数返回字符串的个数,这个获取长度时会删除char类型的尾端的空格。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">+---------+--------------+------------+-------------+</span><br><span class="line">| cust_id | name         | state_id   | incorp_date |</span><br><span class="line">+---------+--------------+------------+-------------+</span><br><span class="line">|      10 | jamesd &#39;hand | 12-345-678 | 1995-05-01  |</span><br><span class="line">+---------+--------------+------------+-------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select length(name) from business where cust_id&#x3D;10;</span><br><span class="line">+--------------+</span><br><span class="line">| length(name) |</span><br><span class="line">+--------------+</span><br><span class="line">|           12 |</span><br><span class="line">+--------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>REGEXP操作符（模式匹配）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; select cust_id,fed_id,fed_id REGEXP &#39;.&#123;3&#125;-.&#123;2&#125;-.&#123;4&#125;&#39; isFomart from customer;</span><br><span class="line">+---------+-------------+----------+</span><br><span class="line">| cust_id | fed_id      | isFomart |</span><br><span class="line">+---------+-------------+----------+</span><br><span class="line">|       1 | 111-11-1111 |        1 |</span><br><span class="line">|       2 | 222-22-2222 |        1 |</span><br><span class="line">|       3 | 333-33-3333 |        1 |</span><br><span class="line">|       4 | 444-44-4444 |        1 |</span><br><span class="line">|       5 | 555-55-5555 |        1 |</span><br><span class="line">|       6 | 666-66-6666 |        1 |</span><br><span class="line">|       7 | 777-77-7777 |        1 |</span><br><span class="line">|       8 | 888-88-8888 |        1 |</span><br><span class="line">|       9 | 999-99-9999 |        1 |</span><br><span class="line">|      10 | 04-1111111  |        0 |</span><br><span class="line">|      11 | 04-2222222  |        0 |</span><br><span class="line">|      12 | 04-3333333  |        0 |</span><br><span class="line">|      13 | 04-4444444  |        0 |</span><br><span class="line">+---------+-------------+----------+</span><br><span class="line">13 rows in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>concat() 返回字符串的字符串函数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; select concat(fname,&#39; &#39;,lname,&#39; has been a title  &#39;,&#39;since &#39;,start_date) emp_narrative from employee where title &#x3D;&#39;Teller&#39;;</span><br><span class="line">+-----------------------------------------------------+</span><br><span class="line">| emp_narrative                                       |</span><br><span class="line">+-----------------------------------------------------+</span><br><span class="line">| Chris Tucker has been a title  since 2004-09-15     |</span><br><span class="line">| Sarah Parker has been a title  since 2002-12-02     |</span><br><span class="line">| Jane Grossman has been a title  since 2002-05-03    |</span><br><span class="line">| Thomas Ziegler has been a title  since 2000-10-23   |</span><br><span class="line">| Samantha Jameson has been a title  since 2003-01-08 |</span><br><span class="line">| Cindy Mason has been a title  since 2002-08-09      |</span><br><span class="line">| Frank Portman has been a title  since 2003-04-01    |</span><br><span class="line">| Beth Fowler has been a title  since 2002-06-29      |</span><br><span class="line">| Rick Tulman has been a title  since 2002-12-12      |</span><br><span class="line">+-----------------------------------------------------+</span><br><span class="line">9 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>SubString(字段，1，end) - 从某个文本字段提取字符</li>
</ul>
<h3 id="数字相关的函数"><a href="#数字相关的函数" class="headerlink" title="数字相关的函数"></a>数字相关的函数</h3><ul>
<li>mod() 求余操作</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; select mod(22.75,5);</span><br><span class="line">+--------------+</span><br><span class="line">| mod(22.75,5) |</span><br><span class="line">+--------------+</span><br><span class="line">|         2.75 |</span><br><span class="line">+--------------+</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p>ceil()和floor()向上和向下取整操作</p>
</li>
<li><p>round()四舍五入操作</p>
</li>
<li><p>ROUND(X,D)： 返回参数X的四舍五入的有 D 位小数的一个数字。如果D为0，结果将没有小数点或小数部分。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; select round(1.287,1) as result;</span><br><span class="line">+--------+</span><br><span class="line">| result |</span><br><span class="line">+--------+</span><br><span class="line">|    1.3 |</span><br><span class="line">+--------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>处理有符号数</li>
</ul>
<p>sign()函数余额为负数时返回-1，为0时返回0，为正数时返回1。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; select account_id,sign(avail_balance),abs(avail_balance) from account;</span><br><span class="line">+------------+---------------------+--------------------+</span><br><span class="line">| account_id | sign(avail_balance) | abs(avail_balance) |</span><br><span class="line">+------------+---------------------+--------------------+</span><br><span class="line">|          1 |                   1 |            1057.75 |</span><br><span class="line">|          2 |                   1 |             500.00 |</span><br><span class="line">|          3 |                   1 |            3000.00 |</span><br><span class="line">|          4 |                   1 |            2258.02 |</span><br><span class="line">|          5 |                   1 |             200.00 |</span><br><span class="line">|          7 |                   1 |            1057.75 |</span><br><span class="line">|          8 |                   1 |            2212.50 |</span><br><span class="line">|         10 |                   1 |             534.12 |</span><br><span class="line">|         11 |                   1 |             767.77 |</span><br><span class="line">|         12 |                   1 |            5487.09 |</span><br><span class="line">|         13 |                   1 |            2237.97 |</span><br><span class="line">|         14 |                   1 |             122.37 |</span><br><span class="line">|         15 |                   1 |           10000.00 |</span><br><span class="line">|         17 |                   1 |            5000.00 |</span><br><span class="line">|         18 |                   1 |            3487.19 |</span><br><span class="line">|         19 |                   1 |             387.99 |</span><br><span class="line">|         21 |                   1 |             125.67 |</span><br><span class="line">|         22 |                   1 |            9345.55 |</span><br><span class="line">|         23 |                   1 |            1500.00 |</span><br><span class="line">|         24 |                   1 |           23575.12 |</span><br><span class="line">|         25 |                   0 |               0.00 |</span><br><span class="line">|         27 |                   1 |            9345.55 |</span><br><span class="line">|         28 |                   1 |           38552.05 |</span><br><span class="line">|         29 |                   1 |           50000.00 |</span><br><span class="line">+------------+---------------------+--------------------+</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>AVG() - 返回平均值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">语法：</span><br><span class="line">SELECT AVG(column_name) FROM table_name</span><br><span class="line"></span><br><span class="line">例子：</span><br><span class="line">从 &quot;access_log&quot; 表的 &quot;count&quot; 列获取平均值：</span><br><span class="line"></span><br><span class="line">mysql&gt; select AVG(count) as countASAverage from access_log;</span><br><span class="line">+----------------+</span><br><span class="line">| countASAverage |</span><br><span class="line">+----------------+</span><br><span class="line">|       174.3333 |</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">选择访问量高于平均访问量的 &quot;site_id&quot; 和 &quot;count&quot;：</span><br><span class="line">mysql&gt; select site_id,count from access_log where count&gt;(select AVG(count) from access_log);</span><br><span class="line">+---------+-------+</span><br><span class="line">| site_id | count |</span><br><span class="line">+---------+-------+</span><br><span class="line">|       1 |   230 |</span><br><span class="line">|       5 |   205 |</span><br><span class="line">|       3 |   220 |</span><br><span class="line">|       5 |   545 |</span><br><span class="line">|       3 |   201 |</span><br><span class="line">+---------+-------+</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="日期相关的函数"><a href="#日期相关的函数" class="headerlink" title="日期相关的函数"></a>日期相关的函数</h3><ul>
<li><p>当一个字段为date   dateTime  time timestamp类型的时候，插入一个数据为字符串类型时，则服务器会将字符串转变为该类型。</p>
</li>
<li><p>str_to_date()格式化函数</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; update individual set birth_date &#x3D;STR_TO_DATE(&#39;September 17,2008&#39;,&#39;%M %d, %Y&#39;) where cust_id &#x3D;1;</span><br><span class="line">Query OK, 1 row affected (0.04 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<ul>
<li>current_date(),current_time(),current_timestamp() 时间函数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; select current_date(),current_time(),current_timestamp();</span><br><span class="line">+----------------+----------------+---------------------+</span><br><span class="line">| current_date() | current_time() | current_timestamp() |</span><br><span class="line">+----------------+----------------+---------------------+</span><br><span class="line">| 2017-11-29     | 00:26:22       | 2017-11-29 00:26:22 |</span><br><span class="line">+----------------+----------------+---------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<ul>
<li>date_add()函数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F;第二个参数包含了3个参数，分别是interval关键字，数量，和时间间隔类型</span><br><span class="line"></span><br><span class="line">mysql&gt; select date_add(current_date(),interval 5 day);</span><br><span class="line">+-----------------------------------------+</span><br><span class="line">| date_add(current_date(),interval 5 day) |</span><br><span class="line">+-----------------------------------------+</span><br><span class="line">| 2017-12-04                              |</span><br><span class="line">+-----------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">type 参数可以是下列值：</span><br><span class="line">Type 值</span><br><span class="line">MICROSECOND</span><br><span class="line">SECOND</span><br><span class="line">MINUTE</span><br><span class="line">HOUR</span><br><span class="line">DAY</span><br><span class="line">WEEK</span><br><span class="line">MONTH</span><br><span class="line">QUARTER</span><br><span class="line">YEAR</span><br><span class="line">SECOND_MICROSECOND</span><br><span class="line">MINUTE_MICROSECOND</span><br><span class="line">MINUTE_SECOND</span><br><span class="line">HOUR_MICROSECOND</span><br><span class="line">HOUR_SECOND</span><br><span class="line">HOUR_MINUTE</span><br><span class="line">DAY_MICROSECOND</span><br><span class="line">DAY_SECOND</span><br><span class="line">DAY_MINUTE</span><br><span class="line">DAY_HOUR</span><br><span class="line">YEAR_MONTH</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>last_day()函数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; select last_day(&#39;2008-09-17&#39;);</span><br><span class="line">+------------------------+</span><br><span class="line">| last_day(&#39;2008-09-17&#39;) |</span><br><span class="line">+------------------------+</span><br><span class="line">| 2008-09-30             |</span><br><span class="line">+------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select last_day(now());</span><br><span class="line">+-----------------+</span><br><span class="line">| last_day(now()) |</span><br><span class="line">+-----------------+</span><br><span class="line">| 2017-11-30      |</span><br><span class="line">+-----------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<ul>
<li>dayname() 返回某一天时星期几</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; select dayname(&#39;2008-03-27&#39;);</span><br><span class="line">+-----------------------+</span><br><span class="line">| dayname(&#39;2008-03-27&#39;) |</span><br><span class="line">+-----------------------+</span><br><span class="line">| Thursday              |</span><br><span class="line">+-----------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>extract()截取日期的函数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; select extract(year from now());</span><br><span class="line">+--------------------------+</span><br><span class="line">| extract(year from now()) |</span><br><span class="line">+--------------------------+</span><br><span class="line">|                     2017 |</span><br><span class="line">+--------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<ul>
<li>datediff() 返回两个时间的像个的天数 （距今比较远的为第一个参数，则返回整数）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; select datediff(&#39;2011-05-03&#39;,&#39;2010-08-03&#39;);</span><br><span class="line">+-------------------------------------+</span><br><span class="line">| datediff(&#39;2011-05-03&#39;,&#39;2010-08-03&#39;) |</span><br><span class="line">+-------------------------------------+</span><br><span class="line">|                                 273 |</span><br><span class="line">+-------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>date常用函数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">函数            描述</span><br><span class="line">NOW()        返回当前的日期和时间</span><br><span class="line">CURDATE()    返回当前的日期</span><br><span class="line">CURTIME()    返回当前的时间</span><br><span class="line">DATE()        提取日期或日期&#x2F;时间表达式的日期部分</span><br><span class="line">EXTRACT()    返回日期&#x2F;时间的单独部分</span><br><span class="line">DATE_ADD()    向日期添加指定的时间间隔</span><br><span class="line">DATE_SUB()    从日期减去指定的时间间隔</span><br><span class="line">DATEDIFF()    返回两个日期之间的天数</span><br><span class="line">DATE_FORMAT()    用不同的格式显示日期&#x2F;时间</span><br><span class="line"></span><br><span class="line">mysql&gt; select </span><br><span class="line">    -&gt; DATE_FORMAT(NOW(),&#39;%b %d %Y %h:%i %p&#39;) as date1 ,</span><br><span class="line">    -&gt; DATE_FORMAT(NOW(),&#39;%m-%d-%Y&#39;) as date2,</span><br><span class="line">    -&gt; DATE_FORMAT(NOW(),&#39;%d %b %y&#39;) as date3,</span><br><span class="line">    -&gt; DATE_FORMAT(NOW(),&#39;%d %b %y&#39;) as date4;</span><br><span class="line"></span><br><span class="line">+----------------------+------------+-----------+-----------+</span><br><span class="line">| date1                | date2      | date3     | date4     |</span><br><span class="line">+----------------------+------------+-----------+-----------+</span><br><span class="line">| Nov 05 2017 11:05 PM | 11-05-2017 | 05 Nov 17 | 05 Nov 17 |</span><br><span class="line">+----------------------+------------+-----------+-----------+</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>









    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/sql%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97/" rel="tag"># sql学习指南</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2017-10-14/web-session%E5%92%8Ccookie%E7%9A%84%E5%8C%BA%E5%88%AB/" rel="prev" title="web-session和cookie的区别">
      <i class="fa fa-chevron-left"></i> web-session和cookie的区别
    </a></div>
      <div class="post-nav-item">
    <a href="/2017-11-06/tomcat%E5%AD%A6%E4%B9%A0-%E7%BB%93%E6%9E%84%E5%92%8C%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/" rel="next" title="tomcat学习-结构和基本配置">
      tomcat学习-结构和基本配置 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%9C%AF%E8%AF%AD"><span class="nav-number">1.</span> <span class="nav-text">基本术语</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8mysql%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7"><span class="nav-number">2.</span> <span class="nav-text">使用mysql命令行工具</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A1%A8%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="nav-number">3.</span> <span class="nav-text">表的创建</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E4%B8%8E%E4%BF%AE%E6%94%B9%E8%A1%A8"><span class="nav-number">4.</span> <span class="nav-text">操作与修改表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%BC%E8%87%B4%E9%94%99%E8%AF%AF%E7%9A%84%E8%AF%AD%E5%8F%A5"><span class="nav-number">5.</span> <span class="nav-text">导致错误的语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mysql%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">6.</span> <span class="nav-text">mysql的数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%95%B0%E6%8D%AE"><span class="nav-number">6.1.</span> <span class="nav-text">字符型数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE"><span class="nav-number">6.2.</span> <span class="nav-text">数值型数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%B6%E9%97%B4%E6%95%B0%E6%8D%AE"><span class="nav-number">6.3.</span> <span class="nav-text">时间数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B8%E5%85%B3%E7%9A%84%E5%87%BD%E6%95%B0"><span class="nav-number">6.4.</span> <span class="nav-text">字符串相关的函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E5%AD%97%E7%9B%B8%E5%85%B3%E7%9A%84%E5%87%BD%E6%95%B0"><span class="nav-number">6.5.</span> <span class="nav-text">数字相关的函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A5%E6%9C%9F%E7%9B%B8%E5%85%B3%E7%9A%84%E5%87%BD%E6%95%B0"><span class="nav-number">6.6.</span> <span class="nav-text">日期相关的函数</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="陈伟杰"
      src="/images/favicon.ico">
  <p class="site-author-name" itemprop="name">陈伟杰</p>
  <div class="site-description" itemprop="description">学习，坚持。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">74</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">26</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">68</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/chenwj1103" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;chenwj1103" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">陈伟杰</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">638k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">9:40</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
